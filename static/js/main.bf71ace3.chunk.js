(this.webpackJsonpwoodoku=this.webpackJsonpwoodoku||[]).push([[0],[,,,,,,,,function(e,t,r){e.exports={board:"Board_board__P2TC8",boardDividerV:"Board_boardDividerV__3FkoP",boardDividerH:"Board_boardDividerH__2p96D",square:"Board_square__3drT6",highlight:"Board_highlight__7PRwH",active:"Board_active__2Rzdu"}},,,function(e,t,r){e.exports={wrapper:"Shape_wrapper__34CHm",shape:"Shape_shape__1vnar",part:"Shape_part__3YeO4"}},function(e,t,r){e.exports={header:"Header_header__1m9KH"}},,,,function(e,t,r){e.exports={bucket:"Bucket_bucket__3Kvbt"}},,,,,function(e,t,r){},function(e,t,r){},,,function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(5),i=r.n(c),o=(r(21),r(4)),u=(r(22),r(8)),s=r.n(u),d=r(15),v=r.n(d),f=r(7),h=r(3);function j(e){var t=e.board;return Object(h.jsxs)("div",{className:s.a.board,children:[t.map((function(e,t){return Object(h.jsx)(b,{squareId:t,highlighted:e.highlight,active:e.active},t)})),Object(h.jsx)("div",{className:s.a.boardDividerH}),Object(h.jsx)("div",{className:s.a.boardDividerV})]})}function b(e){var t=e.squareId,r=e.highlighted,a=e.active,n=Object(f.d)({id:t.toString()}).setNodeRef;return Object(h.jsx)("div",{ref:n,className:v()(s.a.square,r&&s.a.highlight,a&&s.a.active),"data-square":t})}var l=r(1),p=r(11),O=r.n(p),g=r(2);function _(e){var t=Object(f.c)({id:e.shapeId}),r=t.attributes,a=t.listeners,n=t.setNodeRef,c=t.transform,i={transform:g.a.Translate.toString(c)};return Object(h.jsx)("div",Object(l.a)(Object(l.a)(Object(l.a)({style:i,ref:n},r),a),{},{children:Object(h.jsx)("div",{className:O.a.wrapper,children:Object(h.jsx)("div",{className:O.a.shape,children:e.structure.map((function(e,t){return Object(h.jsx)(m,{coordinates:e},t)}))})})}))}function m(e){var t=e.coordinates;return Object(h.jsx)("div",{className:O.a.part,style:{left:20*t[0]-10,top:20*t[1]-10}})}var x=r(16),N=r.n(x),k={i:[[0,0],[0,-2],[0,-1],[0,1]],o:[[0,0],[1,0],[0,1],[1,1]],t:[[0,0],[-1,0],[0,1],[1,0]],s:[[0,0],[-1,1],[0,1],[1,0]],z:[[0,0],[-1,0],[0,1],[1,1]],j:[[0,0],[0,-1],[0,1],[-1,1]],l:[[0,0],[0,-1],[0,1],[1,1]]};function D(e){var t=Object.keys(k);return function(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),a=[e[r],e[t]];e[t]=a[0],e[r]=a[1]}}(t),t.splice(0,e)}function S(e){return k[e]}function B(e){var t=e.shapeTypes;return Object(h.jsx)("div",{className:N.a.bucket,children:t.map(S).map((function(e,r){return Object(h.jsx)(_,{structure:e,shapeId:t[r]},r)}))})}var w=r(12),I=r.n(w);function H(e){var t=e.score;return Object(h.jsxs)("header",{className:I.a.header,children:[Object(h.jsx)("div",{className:I.a.title,children:"Woodoku"}),Object(h.jsx)("div",{className:I.a.score,children:t})]})}function T(e,t,r){for(var a=S(r).map((function(e){var r=Object(o.a)(e,2),a=r[0],n=r[1];return[t[0]+a,t[1]+n]})),n=0;n<a.length;n++)if(a[n][0]>=9||a[n][1]>=9||a[n][0]<0||a[n][1]<0||e[P(a[n])].active)return null;return a}function q(e){return e.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{highlight:!1})}))}function y(e){var t=[],r=0,a=function(e){for(var t=[],r=0;r<9;r++){for(var a=!0,n=0;n<9;n++){e[P([n,r])].active||(a=!1)}if(a)for(var c=0;c<9;c++)t.push([c,r])}return t}(e);t=t.concat(a),r+=a.length/9;var n=function(e){for(var t=[],r=0;r<9;r++){for(var a=!0,n=0;n<9;n++){e[P([r,n])].active||(a=!1)}if(a)for(var c=0;c<9;c++)t.push([r,c])}return t}(e);t=t.concat(n),r+=n.length/9;var c=function(e){for(var t=[],r=0;r<3;r++)for(var a=0;a<3;a++){for(var n=C([3*r,3*a]),c=!0,i=0;i<n.length;i++)e[P(n[i])].active||(c=!1);if(c)for(var o=0;o<n.length;o++)t.push(n[o])}return t}(e);return t=t.concat(c),r+=c.length/9,[e.map((function(e){return M(t,e.coordinates)?Object(l.a)(Object(l.a)({},e),{},{active:!1}):e})),r]}function C(e){for(var t=[],r=0;r<3;r++)for(var a=0;a<3;a++)t.push([e[0]+r,e[1]+a]);return t}function F(e){return[e%9,Math.floor(e/9)]}function P(e){return 9*e[1]+e[0]}function M(e,t){for(var r=0;r<e.length;r++)if(e[r][0]===t[0]&&e[r][1]===t[1])return!0;return!1}var R=function(){var e=Object(a.useState)(D(3)),t=Object(o.a)(e,2),r=t[0],n=t[1],c=Object(a.useState)(function(e,t){for(var r=[],a=0;a<t;a++)for(var n=0;n<e;n++)r.push({coordinates:[n,a],highlight:!1,active:!1});return r}(9,9)),i=Object(o.a)(c,2),u=i[0],s=i[1],d=Object(a.useState)(0),v=Object(o.a)(d,2),b=v[0],p=v[1],O=function(e){var t=r.filter((function(t){return t!==e}));t.length>0?n(t):n(D(3))};return Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(f.a,{collisionDetection:f.b,onDragOver:function(e){var t,r=null===(t=e.over)||void 0===t?void 0:t.id;if(r){var a,n=F(parseInt(r)),c=T(u,n,e.active.id);a=c?function(e,t){return e.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{highlight:M(t,e.coordinates)})}))}(u,c):q(u),s(a)}},onDragEnd:function(e){var t,r=null===(t=e.over)||void 0===t?void 0:t.id;if(r){var a=F(parseInt(r)),n=T(u,a,e.active.id);if(n){var c=function(e,t){return e.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{active:e.active||M(t,e.coordinates)})}))}(q(u),n),i=y(c),d=Object(o.a)(i,2),v=d[0],f=d[1];s(v),p(b+f),O(e.active.id)}}},children:[Object(h.jsx)(H,{score:b}),Object(h.jsx)(j,{board:u}),Object(h.jsx)(B,{shapeTypes:r})]})})},V=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,26)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;r(e),a(e),n(e),c(e),i(e)}))};i.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(R,{})}),document.getElementById("root")),V()}],[[25,1,2]]]);
//# sourceMappingURL=main.bf71ace3.chunk.js.map